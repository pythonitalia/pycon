#import "../../fragments/submission-accordion.graphql"

query VotingSubmissions(
  $conference: String!
  $after: String
  $loadMore: Boolean!
  # filters
  $filter: SubmissionsFilter
) {
  conference(code: $conference) @skip(if: $loadMore) {
    id
    isVotingOpen

    topics {
      id
      name
    }

    languages {
      id
      name
      code
    }
  }

  submissions(code: $conference, after: $after, filter: $filter) {
    ...submissionAccordion
  }

  submissionTags @skip(if: $loadMore) {
    id
    name
  }
}
